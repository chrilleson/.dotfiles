- defaults:
    link:
      relink: true
      create: true
      force: true
    shell:
      stdout: true
      stderr: true

- clean:
    ~/:
      force: true
    ~/AppData/Roaming/nushell:
      force: true
    ~/AppData/Local/nvim:
      force: true

- link:
    # Nushell
    ~/AppData/Roaming/nushell/config.nu: nushell/config.nu
    ~/AppData/Roaming/nushell/env.nu: nushell/env.nu
    
    # WezTerm (from submodule)
    ~/.wezterm.lua: wezterm/wezterm.lua
    
    # Neovim (from submodule)
    ~/AppData/Local/nvim: nvim
    
    # Git
    ~/.gitconfig: git/gitconfig
    ~/.gitignore_global: git/gitignore_global

    # VS Code
    ~/AppData/Roaming/Code/User/settings.json: vscode/settings.json
    ~/AppData/Roaming/Code/User/keybindings.json: vscode/keybindings.json

    # Node/TypeScript
    ~/.npmrc: node/.npmrc
    ~/AppData/Local/pnpm/config: node/.pnpmrc
    ~/.eslintrc.json: node/eslintrc.json
    ~/.prettierrc: node/.prettierrc
    
    # Starship prompt
    ~/.config/starship.toml: starship/starship.toml
    
    # OpenCode
    ~/.config/opencode/opencode.json: opencode/opencode.json
    
- create:
    - ~/AppData/Roaming/nushell
    - ~/.config
    - ~/.config/opencode
    - ~/AppData/Local/pnpm/config

- scoop:
    buckets:
      - extras
      - nerd-fonts
    apps:
      - git
      - delta
      - fzf
      - zoxide
      - bat
      - ripgrep
      - fd
      - jq
      - starship
      - fnm
      - neovim
      - 7zip
      - wezterm
      - lazygit
      - JetBrainsMono-NF

- shell:
  - description: Setting up fnm and Node.js
    command: nu .\scripts\setup-fnm.nu

  - description: Installing Node.js global packages
    command: nu .\scripts\install-node-packages.nu

  - description: Setting up Git
    command: git config --global core.excludesfile ~/.gitignore_global